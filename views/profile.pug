doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Online Store
    // CSS Connections
    link(rel="stylesheet", href="/css/normalize.css")
    link(rel="stylesheet", href="/css/bootstrap.min.css")
    link(rel="stylesheet", href="/css/style.css")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css")
  body
    nav.navbar.navbar-expand-lg.navbar-light.bg-light
      .container-fluid
        a.navbar-brand(href="/") Online Store
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarSupportedContent", aria-controls="navbarSupportedContent", aria-expanded="false", aria-label="Toggle navigation")
          span.navbar-toggler-icon
        #navbarSupportedContent.collapse.navbar-collapse
          ul.navbar-nav.me-auto.mb-2.mb-lg-0
            li.nav-item
              a.nav-link(href="/", aria-current="page") Home
            li.nav-item
              a.nav-link(href="/category") Categoty
            if (user)
              li.nav-item
                a.nav-link(href="/cart") Cart
            if (user)
              li.nav-item
                a.nav-link.active(href="/profile")= user.username
              li.nav-item
                a.nav-link(href="/logout") logout
            else 
              li.nav-item
                a.nav-link.active(href="/login") login
              li.nav-item
                a.nav-link(href="/signup") Sign up
            if (user)
              if (user.isAdmin)
                li.nav-item
                  a.nav-link(href="/message") messages
                li.nav-item
                  a.nav-link(href="/orders") orders
                li.nav-item
                  a.nav-link(href="/products-admin") products
                li.nav-item
                  a.nav-link(href="/add-product") Add new product
    hr
    .pr
      .container
        .row
          if (messages.info)
            .alert.alert-dark(role="alert")
              .message.info
                span= messages.info
          .col-md-6.col-xs-12
            img.rounded-circle(src=`/img/users/${user.photo}`, width="270")
            form(action=`/profile/update-image/${user._id}` , enctype="multipart/form-data" , method="post")
              input(type="file",accept="image/*"  , style="margin:30px 10px 10px 10px;" , name="photo")
              button.button.d-block(type="submit") update your picture
          .col-md-6.col-xs-12
            .st
              h3 Personal Information
              p= `user name: ${user.username}` 
              p= `email: ${user.email}`
              form(action=`/profile/update/${user._id}` , method='post')
                p(for="firstname") first name: 
                input#firstname.d-inline(type="text" , name="first_name" , value=`${user.first_name}`)
                p(for="lastname") last name: 
                input#lastname.d-inline(type="text" , name="last_name" , value=`${user.last_name}`)
                p(for="address") address: 
                input#lastname.d-inline(type="text" , name="address" , value=`${user.address}`)
                button.reset(type="submit") save changes
            br
            hr
            h3 Change the password
            form(action=`/profile/update-pasword/${user._id}` , method="post")
              .mb-3
                label.form-label(for="exampleInputPassword1") currently password
                input#exampleInputPassword1.form-control(type="password" , name="currentPassword", required)
              .mb-3
                label.form-label(for="exampleInputPassword1") New Password
                input#exampleInputPassword1.form-control(type="password" , name="password", required)
              .mb-3
                label.form-label(for="exampleInputPassword1") confirm Password
                input#exampleInputPassword1.form-control(type="password", name="passwordConfirm" , required)
              button.reset(type="submit") reset password
            .wrapper
              a(href="cart.html")
                button.btn.shop.d-flex.align-items-center.justify-content-center
                  i.fas.fa-cart-plus
              .target.d-flex.align-items-center.justify-content-center
                i.fas.fa-box
    .footer
      .container
        .row
          .col-md-3
            ul
              li
                a(href="index.html")
                  i.fas.fa-chevron-right
                  | Home
              li
                a(href="category.html")
                  i.fas.fa-chevron-right
                  | Category
          .col-md-3
            h2 follow us
            a
              i.fab.fa-facebook
            a
              i.fab.fa-twitter
            a
              i.fab.fa-linkedin-in
            a
              i.fab.fa-whatsapp
            a
              i.fab.fa-pinterest
            hr
            h2 payment 
            a
              i.fab.fa-cc-paypal(style="font-size: 40px;")
            a
              i.fab.fa-cc-visa(style="font-size: 40px;")
            a
              i.fab.fa-cc-mastercard(style="font-size: 40px;")
    // Start Copy
    .copy
      h3 copy right &amp;copy; developed by Ahmed salama
    // End Copy
    // Javascript Connections
    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js", integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p", crossorigin="anonymous")
    script(src="/js/bootstrap.min.js", type="text/javascript")
    script(src="/js/jquery-3.5.1.min.js")
    script(src="/js/wow.min.js")
    script(src="/js/main.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.js")
    script(type="text/javascript").
      new WOW().init();
